// Jenkinsfile (Declarative Pipeline)
pipeline {
    agent any 
    stages {
        stage('Build') { 
            steps {
	    // Install puppet agent in slave node
                 'sudo yum -y install http://yum.puppetlabs.com/puppetlabs-release-el-7.noarch.rpm'
	         'sudo yum -y install puppet' 
            }
        }
        stage('Test') { 
            steps {
	        // display the puppet status
                sh 'systemctl status puppet'
            }
        }       
    }
}
